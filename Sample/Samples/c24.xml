<?xml version="1.0" encoding="utf-8" ?>
<llpml version="0.9.20080127">

<!-- struct -->

<include src="finish.xml" />

<?llp
struct Test
{
  var a = 1, b = 2;

  // define constructor to initialize members
  function ctor() { }

  function Show()
  {
    printfln("this, a, b = %p, %d, %d", this, a, b);
  }

  function Add()
  {
    return a + b;
  }
}

printfln("sizeof(Test) = %d", sizeof(Test));
println();

// use initializers
Test t1;
printfln("t1 = %p", t1);
show(t1);
println();

// ignore initializers
Test t2 = { 3, 4 };
printfln("t2 = %p", t2);
show(t2);
t2.a = 5;
t2.b = 6;
show(t2);

function show(p : Test)
{
  println();
  printfln("p, p.a, p.b = %p, %d, %d", p, p.a, p.b);
  printfln("p.Add() = %d", p.Add());
  p.Show();
}
?>

</llpml>
