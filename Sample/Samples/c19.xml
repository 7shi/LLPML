<?xml version="1.0" encoding="utf-8" ?>
<llpml version="0.9.20080127">

<!-- method in struct in struct -->

<include src="finish.xml" />

<?llp
struct Point
{
  var x, y;

  function Show()
  {
    printfln("%p [%s] %d, %d", this, __FUNCTION__, x, y);
  }
}

struct DoublePoint
{
  Point a, b;

  function Show()
  {
    printfln("%p [%s] a: %p", this, __FUNCTION__, a);
    a.Show();
    printfln("%p [%s] b: %p", this, __FUNCTION__, b);
    b.Show();
  }
}

DoublePoint p = { { 1, 2 }, { 3, 4 } };

printfln("p = %p", p);
printfln("addrof(p.a) = %p", addrof(p.a));
printfln("addrof(p.b) = %p", addrof(p.b));
printfln("addrof(p.b.y) = %p", addrof(p.b.y));

vprintfln("p = ((%d, %d), (%d, %d))", p);
p.Show();
p.a.Show();
p.b.Show();
?>

</llpml>
